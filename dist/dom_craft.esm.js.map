{"version":3,"file":"dom_craft.esm.js","sources":["../domCraft.js"],"sourcesContent":["export class Dom {\n    constructor() {}\n    static qs(selector) {\n        return document.querySelector(selector);\n    }\n    static qsa(selector) {\n        return document.querySelectorAll(selector);\n    }\n    static el(tagName) {\n        return new Element(document.createElement(tagName));\n    }\n    static get body() {\n        return new Element(document.querySelector('body'));\n    }\n\n    static delay(ms) {\n        return new Promise((resolve) => {\n            setTimeout(() => resolve(), ms);\n        });\n    }\n\n    static injectCss(cssText) {\n        const styleTag = document.createElement('style');\n        styleTag.textContent = cssText;\n\n        document.head.append(styleTag);\n    }\n    static get span() {\n        return new Element('span');\n    }\n    static get p() {\n        return new Element('p');\n    }\n    static get h1() {\n        return new Element('h1');\n    }\n    static get h2() {\n        return new Element('h2');\n    }\n    static get h3() {\n        return new Element('h3');\n    }\n    static get h4() {\n        return new Element('h4');\n    }\n    static get h5() {\n        return new Element('h5');\n    }\n    static get h6() {\n        return new Element('h6');\n    }\n    static get div() {\n        return new Element('div');\n    }\n\n    static get img() {\n        return new Element('img');\n    }\n\n    static get section() {\n        return new Element('section');\n    }\n    static get article() {\n        return new Element('article');\n    }\n    static get header() {\n        return new Element('header');\n    }\n    static get footer() {\n        return new Element('footer');\n    }\n    static get main() {\n        return new Element('main');\n    }\n    static get ul() {\n        return new Element('ul');\n    }\n    static get button() {\n        return new Element('button');\n    }\n    static get input() {\n        return new Element('input');\n    }\n    static get form() {\n        return new Element('form');\n    }\n    static get li() {\n        return new Element('li');\n    }\n    static get a() {\n        return new Element('a');\n    }\n}\n\nexport class Element {\n    constructor(el) {\n        if (typeof el === 'string') {\n            this.el = document.createElement(el);\n        } else {\n            this.el = el;\n        }\n        this.init();\n    }\n    init() {\n        this.el.newEl = this;\n        this.el.set = this.set.bind(this);\n        this.el.attr = this.attr.bind(this);\n        this.el.animations = this.animations.bind(this);\n        this.el.destroy = this.destroy.bind(this);\n        this.el.addChildren = this.addChildren.bind(this);\n        this.el.replaceChildren = this.replaceChildren.bind(this);\n    }\n    set(config = {}) {\n        this.config = config;\n        if (typeof config === 'string') {\n            this.text(config);\n        } else {\n            if ('text' in config) this.text(config.text);\n            if ('html' in config) this.html(config.html);\n            if ('style' in config) this.style(config.style);\n            if ('attr' in config) this.attr(config.attr);\n            if ('dataset' in config) this.dataset(config.dataset);\n            if ('href' in config) this.href(config.href);\n            if ('src' in config) this.src(config.src);\n            if ('type' in config) this.type(config.src);\n            if ('id' in config) this.id(config.id);\n            if ('class' in config) this.class(config.class);\n            if ('ref' in config && typeof config.ref === 'function') config.ref(this);\n            if ('children' in config) this.children(config.children);\n            if ('on' in config) this.on(config.on);\n            if ('introAnimation' in config) this.introAnimation = config.introAnimation;\n            if ('outroAnimation' in config) this.outroAnimation = config.outroAnimation;\n        }\n\n        return this.el;\n    }\n\n    id(id) {\n        this.el.id = id;\n        return this.el;\n    }\n    text(value) {\n        this.el.textContent = value;\n        return this.el;\n    }\n\n    html(value) {\n        this.el.innerHTML = value;\n        return this.el;\n    }\n\n    src(value) {\n        this.el.src = value;\n        return this.el;\n    }\n\n    href(value) {\n        this.el.href = value;\n        return this.el;\n    }\n\n    class(value) {\n        if (value.split(',').length === 1) {\n            this.el.classList.add(value);\n        } else {\n            value.split(',').forEach((className) => {\n                this.el.classList.add(className.trim());\n            });\n        }\n        return this.el;\n    }\n\n    attr(attr) {\n        Object.entries(attr).forEach(([key, value]) => {\n            this.el.setAttribute(key, value);\n        });\n        return this.el;\n    }\n\n    style(style) {\n        Object.entries(style).forEach(([key, value]) => (this.el.style[key] = value));\n        return this.el;\n    }\n\n    dataset(dataset) {\n        Object.entries(dataset).forEach(([key, value]) => {\n            this.el.dataset[key] = value;\n        });\n        return this.el;\n    }\n\n    animations(animations) {\n        if (Array.isArray(animations)) {\n            animations.forEach((ani) => {\n                const { keyframe, options } = ani;\n                this.animate(keyframe, options);\n            });\n        } else {\n            const { keyframe, options } = animations;\n            this.animate(keyframe, options);\n        }\n        return this.el;\n    }\n    async animate(keyframe, options) {\n        this.ani = this.el.animate(keyframe, options);\n        await this.ani.finished;\n        this.onAnimationEnd && this.onAnimationEnd.call(this);\n    }\n\n    children(children) {\n        children.forEach(async (el) => {\n            if (el.newEl.introAnimation) {\n                const { keyframe, options } = el.newEl.introAnimation;\n                this.el.append(el);\n                await el.animate(keyframe, options).finished;\n            } else {\n                this.el.append(el);\n            }\n        });\n        return this.el;\n    }\n\n    on(events) {\n        Object.entries(events).forEach(([key, value]) => {\n            if (key === 'animationEnd') {\n                this.onAnimationEnd = value;\n                return;\n            }\n            this.el.addEventListener(key, value.bind(this));\n        });\n        return this.el;\n    }\n\n    async destroy() {\n        if (this.outroAnimation) {\n            const { keyframe, options } = this.outroAnimation;\n            await this.el.animate(keyframe, options).finished;\n            return this.el.remove();\n        } else {\n            return this.el.remove();\n        }\n    }\n    replaceChildren(...children) {\n        this.el.innerHTML = '';\n        this.children(children);\n    }\n\n    addChildren(...children) {\n        this.children(children);\n    }\n}\n"],"names":["Dom","constructor","qs","selector","document","querySelector","qsa","querySelectorAll","el","tagName","Element","createElement","body","delay","ms","Promise","resolve","setTimeout","injectCss","cssText","styleTag","textContent","head","append","span","p","h1","h2","h3","h4","h5","h6","div","img","section","article","header","footer","main","ul","button","input","form","li","a","this","init","newEl","set","bind","attr","animations","destroy","addChildren","replaceChildren","config","text","html","style","dataset","href","src","type","id","class","ref","children","on","introAnimation","outroAnimation","value","innerHTML","split","length","classList","add","forEach","className","trim","Object","entries","key","setAttribute","Array","isArray","ani","keyframe","options","animate","finished","onAnimationEnd","call","async","events","addEventListener","remove"],"mappings":"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"}