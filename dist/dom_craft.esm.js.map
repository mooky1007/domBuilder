{"version":3,"file":"dom_craft.esm.js","sources":["../domCraft.js"],"sourcesContent":["export class Dom {\n    constructor() {}\n    static qs(selector) {\n        return new Element(document.querySelector(selector));\n    }\n    static qsa(selector) {\n        return document.querySelectorAll(selector);\n    }\n    static el(tagName) {\n        return new Element(document.createElement(tagName));\n    }\n    static get body() {\n        return new Element(document.querySelector('body'));\n    }\n\n    static delay(ms) {\n        return new Promise((resolve) => {\n            setTimeout(() => resolve(), ms);\n        });\n    }\n\n    static injectCss(cssText) {\n        const styleTag = document.createElement('style');\n        styleTag.textContent = cssText;\n\n        document.head.append(styleTag);\n    }\n    static get span() {\n        return new Element('span');\n    }\n    static get p() {\n        return new Element('p');\n    }\n    static get h1() {\n        return new Element('h1');\n    }\n    static get h2() {\n        return new Element('h2');\n    }\n    static get h3() {\n        return new Element('h3');\n    }\n    static get h4() {\n        return new Element('h4');\n    }\n    static get h5() {\n        return new Element('h5');\n    }\n    static get h6() {\n        return new Element('h6');\n    }\n    static get div() {\n        return new Element('div');\n    }\n\n    static get img() {\n        return new Element('img');\n    }\n\n    static get section() {\n        return new Element('section');\n    }\n    static get article() {\n        return new Element('article');\n    }\n    static get header() {\n        return new Element('header');\n    }\n    static get footer() {\n        return new Element('footer');\n    }\n    static get main() {\n        return new Element('main');\n    }\n    static get ul() {\n        return new Element('ul');\n    }\n    static get button() {\n        return new Element('button');\n    }\n    static get input() {\n        return new Element('input');\n    }\n    static get form() {\n        return new Element('form');\n    }\n    static get li() {\n        return new Element('li');\n    }\n    static get a() {\n        return new Element('a');\n    }\n}\n\nexport class Element {\n    constructor(el) {\n        if (typeof el === 'string') {\n            this.el = document.createElement(el);\n        } else {\n            this.el = el;\n        }\n        this.init();\n    }\n    init() {\n        this.el.newEl = this;\n        this.el.set = this.set.bind(this);\n        this.el.attr = this.attr.bind(this);\n        this.el.animations = this.animations.bind(this);\n        this.el.destroy = this.destroy.bind(this);\n        this.el.addChildren = this.addChildren.bind(this);\n        this.el.replaceChildren = this.replaceChildren.bind(this);\n    }\n    set(config = {}) {\n        this.config = config;\n        if (typeof config === 'string') {\n            this.text(config);\n        } else {\n            Object.entries(config).forEach(([key, value]) => {\n                switch (key) {\n                    case 'text':\n                        this.text(value);\n                        break;\n                    case 'html':\n                        this.html(value);\n                        break;\n                    case 'style':\n                        this.style(value);\n                        break;\n                    case 'attr':\n                        this.attr(value);\n                        break;\n                    case 'dataset':\n                        this.dataset(value);\n                        break;\n                    case 'href':\n                        this.href(value);\n                        break;\n                    case 'src':\n                        this.src(value);\n                        break;\n                    case 'type':\n                        this.type(value);\n                        break;\n                    case 'placeholder':\n                        this.placeholder(value);\n                        break;\n                    case 'id':\n                        this.id(value);\n                        break;\n                    case 'class':\n                        this.class(value);\n                        break;\n                    case 'ref':\n                        value(this);\n                        break;\n                    case 'children':\n                        this.children(value);\n                        break;\n                    case 'on':\n                        this.on(value);\n                        break;\n                    case 'introAnimation':\n                        this.introAnimation = value;\n                        break;\n                    case 'outroAnimation':\n                        this.outroAnimation = value;\n                        break;\n                    default:\n                        this[key] = value;\n                        break;\n                }\n            });\n        }\n\n        return this.el;\n    }\n\n    id(id) {\n        this.el.id = id;\n        return this.el;\n    }\n    text(value) {\n        this.el.textContent = value;\n        return this.el;\n    }\n\n    html(value) {\n        this.el.innerHTML = value;\n        return this.el;\n    }\n\n    placeholder(placeholder) {\n        this.el.placeholder = placeholder;\n        return this.el;\n    }\n\n    type(type) {\n        this.el.type = type;\n        return this.el;\n    }\n\n    src(value) {\n        this.el.src = value;\n        return this.el;\n    }\n\n    href(value) {\n        this.el.href = value;\n        return this.el;\n    }\n\n    class(value) {\n        if (value.split(',').length === 1) {\n            this.el.classList.add(value);\n        } else {\n            value.split(',').forEach((className) => {\n                this.el.classList.add(className.trim());\n            });\n        }\n        return this.el;\n    }\n\n    attr(attr) {\n        Object.entries(attr).forEach(([key, value]) => {\n            this.el.setAttribute(key, value);\n        });\n        return this.el;\n    }\n\n    style(style) {\n        Object.entries(style).forEach(([key, value]) => (this.el.style[key] = value));\n        return this.el;\n    }\n\n    dataset(dataset) {\n        Object.entries(dataset).forEach(([key, value]) => {\n            this.el.dataset[key] = value;\n        });\n        return this.el;\n    }\n\n    animations(animations) {\n        if (Array.isArray(animations)) {\n            animations.forEach((ani) => {\n                const { keyframe, options } = ani;\n                this.animate(keyframe, options);\n            });\n        } else {\n            const { keyframe, options } = animations;\n            this.animate(keyframe, options);\n        }\n        return this.el;\n    }\n    async animate(keyframe, options) {\n        this.ani = this.el.animate(keyframe, options);\n        await this.ani.finished;\n        this.onAnimationEnd && this.onAnimationEnd.call(this);\n    }\n\n    children(children) {\n        children.forEach(async (el) => {\n            if (el instanceof Element) {\n                if (el.introAnimation) {\n                    const { keyframe, options } = el.introAnimation;\n                    this.el.append(el.el);\n                    await el.el.animate(keyframe, options).finished;\n                } else {\n                    this.el.append(el.el);\n                }\n            } else {\n                if (el.newEl.introAnimation) {\n                    const { keyframe, options } = el.newEl.introAnimation;\n                    this.el.append(el);\n                    await el.animate(keyframe, options).finished;\n                } else {\n                    this.el.append(el);\n                }\n            }\n        });\n        return this.el;\n    }\n\n    on(events) {\n        Object.entries(events).forEach(([key, value]) => {\n            if (key === 'animationEnd') {\n                this.onAnimationEnd = value;\n                return;\n            }\n            this.el.addEventListener(key, value.bind(this));\n        });\n        return this.el;\n    }\n\n    async destroy() {\n        if (this.outroAnimation) {\n            const { keyframe, options } = this.outroAnimation;\n            await this.el.animate(keyframe, options).finished;\n            return this.el.remove();\n        } else {\n            return this.el.remove();\n        }\n    }\n    replaceChildren(...children) {\n        this.el.innerHTML = '';\n        this.children(children);\n    }\n\n    addChildren(...children) {\n        this.children(children);\n    }\n}\n"],"names":["Dom","constructor","qs","selector","Element","document","querySelector","qsa","querySelectorAll","el","tagName","createElement","body","delay","ms","Promise","resolve","setTimeout","injectCss","cssText","styleTag","textContent","head","append","span","p","h1","h2","h3","h4","h5","h6","div","img","section","article","header","footer","main","ul","button","input","form","li","a","this","init","newEl","set","bind","attr","animations","destroy","addChildren","replaceChildren","config","text","Object","entries","forEach","key","value","html","style","dataset","href","src","type","placeholder","id","class","children","on","introAnimation","outroAnimation","innerHTML","split","length","classList","add","className","trim","setAttribute","Array","isArray","ani","keyframe","options","animate","finished","onAnimationEnd","call","async","events","addEventListener","remove"],"mappings":"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"}