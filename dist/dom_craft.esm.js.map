{"version":3,"file":"dom_craft.esm.js","sources":["../domCraft.js"],"sourcesContent":["export class Dom {\n    constructor() {}\n    static qs(selector) {\n        return new Element(document.querySelector(selector));\n    }\n    static qsa(selector) {\n        return document.querySelectorAll(selector);\n    }\n    static el(tagName) {\n        return new Element(document.createElement(tagName));\n    }\n    static get presets() {\n        return {\n            ani: {\n                fadeIn: [{ opacity: 0 }, { opacity: 1 }],\n                fadeOut: [{ opacity: 1 }, { opacity: 0 }],\n                slideUp: [{ transform: 'translateY(10px)' }, { transform: 'translateY(0)' }],\n                slideDown: [{ transform: 'translateY(-10px)' }, { transform: 'translateY(0)' }],\n            },\n        };\n    }\n    static get body() {\n        return new Element(document.querySelector('body'));\n    }\n    static inView(threshold) {\n        const observer = new IntersectionObserver(\n            ([entry]) => {\n                if (entry.isIntersecting) {\n                    if (entry.target.in) entry.target.in();\n                } else {\n                    if (entry.target.out) entry.target.out();\n                }\n            },\n            {\n                threshold: threshold || 0.2,\n            }\n        );\n\n        observer.watch = (El) => {\n            if (El.in) El.el.in = El.in;\n            if (El.out) El.el.out = El.out;\n            observer.observe(El.el);\n        };\n\n        return observer;\n    }\n    static state(intial) {\n        let _value = intial;\n        const listeners = new Set();\n\n        const get = () => _value;\n        const set = (newValue) => {\n            _value = newValue;\n            listeners.forEach((fn) => fn());\n        };\n\n        get.sub = (fn) => listeners.add(fn);\n        get.unsub = (fn) => listeners.delete(fn);\n\n        return [get, set];\n    }\n\n    static effect(fn, deps) {\n        deps.forEach((deps) => deps.sub(fn));\n        fn();\n    }\n\n    static delay(ms) {\n        return new Promise((resolve) => {\n            setTimeout(() => resolve(), ms);\n        });\n    }\n    static injectCss(cssText) {\n        const styleTag = document.createElement('style');\n        styleTag.textContent = cssText;\n        document.head.append(styleTag);\n    }\n    static get span() {\n        return new Element('span');\n    }\n    static get table() {\n        return new Element('table');\n    }\n    static get thead() {\n        return new Element('thead');\n    }\n    static get tbody() {\n        return new Element('tbody');\n    }\n    static get tfoot() {\n        return new Element('tfoot');\n    }\n    static get tr() {\n        return new Element('tr');\n    }\n    static get th() {\n        return new Element('th');\n    }\n    static get td() {\n        return new Element('td');\n    }\n    static get p() {\n        return new Element('p');\n    }\n    static get i() {\n        return new Element('i');\n    }\n    static get label() {\n        return new Element('label');\n    }\n    static get h1() {\n        return new Element('h1');\n    }\n    static get h2() {\n        return new Element('h2');\n    }\n    static get h3() {\n        return new Element('h3');\n    }\n    static get h4() {\n        return new Element('h4');\n    }\n    static get h5() {\n        return new Element('h5');\n    }\n    static get h6() {\n        return new Element('h6');\n    }\n    static get div() {\n        return new Element('div');\n    }\n    static get img() {\n        return new Element('img');\n    }\n    static get section() {\n        return new Element('section');\n    }\n    static get article() {\n        return new Element('article');\n    }\n    static get figure() {\n        return new Element('figure');\n    }\n    static get header() {\n        return new Element('header');\n    }\n    static get nav() {\n        return new Element('nav');\n    }\n    static get aside() {\n        return new Element('aside');\n    }\n    static get footer() {\n        return new Element('footer');\n    }\n    static get main() {\n        return new Element('main');\n    }\n    static get ol() {\n        return new Element('ol');\n    }\n    static get ul() {\n        return new Element('ul');\n    }\n    static get button() {\n        return new Element('button');\n    }\n    static get input() {\n        return new Element('input');\n    }\n    static get select() {\n        return new Element('select');\n    }\n    static get legend() {\n        return new Element('legend');\n    }\n    static get textarea() {\n        return new Element('textarea');\n    }\n    static get fieldset() {\n        return new Element('fieldset');\n    }\n    static get option() {\n        return new Element('option');\n    }\n    static get form() {\n        return new Element('form');\n    }\n    static get li() {\n        return new Element('li');\n    }\n    static get a() {\n        return new Element('a');\n    }\n}\n\nexport class Element {\n    constructor(el) {\n        if (typeof el === 'string') this.el = document.createElement(el);\n        else this.el = el;\n    }\n    set(config = {}) {\n        this.config = config;\n        if (typeof config === 'string') {\n            this.text(config);\n        } else {\n            Object.entries(config).forEach(([key, value]) => {\n                if (key in this) this[key](value);\n                else this[key] = value;\n            });\n        }\n\n        return this;\n    }\n\n    get value() {\n        return this.el.value;\n    }\n\n    set value(newValue) {\n        this.el.value = newValue;\n    }\n\n    id(id) {\n        this.el.id = id;\n        return this;\n    }\n    text(value) {\n        this.el.textContent = value;\n        return this;``\n    }\n\n    html(value) {\n        this.el.innerHTML = value;\n        return this;\n    }\n\n    placeholder(placeholder) {\n        this.el.placeholder = placeholder;\n        return this;\n    }\n    type(type) {\n        this.el.type = type;\n        return this;\n    }\n\n    src(value) {\n        this.el.src = value;\n        return this;\n    }\n\n    href(value) {\n        this.el.href = value;\n        return this;\n    }\n\n    class(value) {\n        if (value.split(' ').length === 1) {\n            this.el.classList.add(value);\n        } else {\n            value.split(' ').forEach((className) => {\n                this.el.classList.add(className.trim());\n            });\n        }\n        return this;\n    }\n\n    attr(attr) {\n        Object.entries(attr).forEach(([key, value]) => {\n            this.el.setAttribute(key, value);\n        });\n        return this;\n    }\n\n    style(style) {\n        Object.entries(style).forEach(([key, value]) => (this.el.style[key] = value));\n        return this;\n    }\n\n    dataset(dataset) {\n        Object.entries(dataset).forEach(([key, value]) => {\n            this.el.dataset[key] = value;\n        });\n        return this;\n    }\n\n    animations(animations) {\n        if (Array.isArray(animations)) {\n            animations.forEach((ani) => {\n                const { keyframe, options } = ani;\n                this.animate(keyframe, options);\n            });\n        } else {\n            const { keyframe, options } = animations;\n            this.animate(keyframe, options);\n        }\n        return this;\n    }\n    async animate(keyframe, options) {\n        this.ani = this.el.animate(keyframe, options);\n        await this.ani.finished;\n        this.onAnimationEnd && this.onAnimationEnd.call(this);\n    }\n\n    children(children, append = true) {\n        if (!Array.isArray(children)) children = [children];\n\n        children.forEach(async (element) => {\n            if (element instanceof Element) {\n                if (append) this.el.append(element.el);\n                else this.el.prepend(element.el);\n\n                if (element.introAnimation) {\n                    const { keyframe, options } = element.introAnimation;\n                    element.el.animate(keyframe, options);\n                }\n            }\n        });\n        return this;\n    }\n\n    on(events) {\n        Object.entries(events).forEach(([key, value]) => {\n            if (key === 'animationEnd') {\n                this.onAnimationEnd = value;\n                return;\n            }\n\n            this.el.addEventListener(key, value.bind(this));\n        });\n        return this;\n    }\n\n    async remove() {\n        if (this.outroAnimation) {\n            const { keyframe, options } = this.outroAnimation;\n            await this.el.animate(keyframe, options).finished;\n            return this.el.remove();\n        } else {\n            return this.el.remove();\n        }\n    }\n\n    replace(children) {\n        this.el.innerHTML = '';\n        this.children(children);\n    }\n\n    append(children) {\n        this.children(children);\n    }\n\n    removeClass(className) {\n        this.el.classList.remove(className);\n    }\n\n    prepend(children) {\n        this.children(children, false);\n    }\n}\n"],"names":["Dom","constructor","qs","selector","Element","document","querySelector","qsa","querySelectorAll","el","tagName","createElement","presets","ani","fadeIn","opacity","fadeOut","slideUp","transform","slideDown","body","inView","threshold","observer","IntersectionObserver","entry","isIntersecting","target","in","out","watch","El","observe","state","intial","_value","listeners","Set","get","sub","fn","add","unsub","delete","newValue","forEach","effect","deps","delay","ms","Promise","resolve","setTimeout","injectCss","cssText","styleTag","textContent","head","append","span","table","thead","tbody","tfoot","tr","th","td","p","i","label","h1","h2","h3","h4","h5","h6","div","img","section","article","figure","header","nav","aside","footer","main","ol","ul","button","input","select","legend","textarea","fieldset","option","form","li","a","this","set","config","text","Object","entries","key","value","id","html","innerHTML","placeholder","type","src","href","split","length","classList","className","trim","attr","setAttribute","style","dataset","animations","Array","isArray","keyframe","options","animate","finished","onAnimationEnd","call","children","async","element","prepend","introAnimation","on","events","addEventListener","bind","remove","outroAnimation","replace","removeClass"],"mappings":"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"}