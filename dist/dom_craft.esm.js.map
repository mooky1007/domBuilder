{"version":3,"file":"dom_craft.esm.js","sources":["../domCraft.js"],"sourcesContent":["export class Dom {\n    constructor() {}\n    static qs(selector) {\n        return new Element(document.querySelector(selector));\n    }\n    static qsa(selector) {\n        return document.querySelectorAll(selector);\n    }\n    static el(tagName) {\n        return new Element(document.createElement(tagName));\n    }\n    static get body() {\n        return new Element(document.querySelector('body'));\n    }\n    static state(value) {\n        let _value;\n        const result = {\n            get value() {\n                return _value;\n            },\n            set value(newValue) {\n                console.log(`value change ${_value} ${newValue}`);\n                _value = newValue;\n                return _value;\n            },\n        };\n        result.value = value;\n        return [() => result.value, (newValue) => (result.value = newValue)];\n    }\n    static delay(ms) {\n        return new Promise((resolve) => {\n            setTimeout(() => resolve(), ms);\n        });\n    }\n\n    static injectCss(cssText) {\n        const styleTag = document.createElement('style');\n        styleTag.textContent = cssText;\n\n        document.head.append(styleTag);\n    }\n    static get span() {\n        return new Element('span');\n    }\n    static get p() {\n        return new Element('p');\n    }\n    static get h1() {\n        return new Element('h1');\n    }\n    static get h2() {\n        return new Element('h2');\n    }\n    static get h3() {\n        return new Element('h3');\n    }\n    static get h4() {\n        return new Element('h4');\n    }\n    static get h5() {\n        return new Element('h5');\n    }\n    static get h6() {\n        return new Element('h6');\n    }\n    static get div() {\n        return new Element('div');\n    }\n    static get img() {\n        return new Element('img');\n    }\n    static get section() {\n        return new Element('section');\n    }\n    static get article() {\n        return new Element('article');\n    }\n    static get header() {\n        return new Element('header');\n    }\n    static get footer() {\n        return new Element('footer');\n    }\n    static get main() {\n        return new Element('main');\n    }\n    static get ul() {\n        return new Element('ul');\n    }\n    static get button() {\n        return new Element('button');\n    }\n    static get input() {\n        return new Element('input');\n    }\n    static get form() {\n        return new Element('form');\n    }\n    static get li() {\n        return new Element('li');\n    }\n    static get a() {\n        return new Element('a');\n    }\n}\n\nexport class Element {\n    constructor(el) {\n        if (typeof el === 'string') this.el = document.createElement(el);\n        else this.el = el;\n    }\n    set(config = {}) {\n        this.config = config;\n        if (typeof config === 'string') {\n            this.text(config);\n        } else {\n            Object.entries(config).forEach(([key, value]) => {\n                if (key in this) this[key](value);\n                else this[key] = value;\n            });\n        }\n\n        return this;\n    }\n\n    id(id) {\n        this.el.id = id;\n        return this;\n    }\n    text(value) {\n        this.el.textContent = value;\n        return this;\n    }\n\n    html(value) {\n        this.el.innerHTML = value;\n        return this;\n    }\n\n    placeholder(placeholder) {\n        this.el.placeholder = placeholder;\n        return this;\n    }\n    type(type) {\n        this.el.type = type;\n        return this;\n    }\n\n    src(value) {\n        this.el.src = value;\n        return this;\n    }\n\n    href(value) {\n        this.el.href = value;\n        return this;\n    }\n\n    class(value) {\n        if (value.split(',').length === 1) {\n            this.el.classList.add(value);\n        } else {\n            value.split(',').forEach((className) => {\n                this.el.classList.add(className.trim());\n            });\n        }\n        return this;\n    }\n\n    attr(attr) {\n        Object.entries(attr).forEach(([key, value]) => {\n            this.el.setAttribute(key, value);\n        });\n        return this;\n    }\n\n    style(style) {\n        Object.entries(style).forEach(([key, value]) => (this.el.style[key] = value));\n        return this;\n    }\n\n    dataset(dataset) {\n        Object.entries(dataset).forEach(([key, value]) => {\n            this.el.dataset[key] = value;\n        });\n        return this;\n    }\n\n    animations(animations) {\n        if (Array.isArray(animations)) {\n            animations.forEach((ani) => {\n                const { keyframe, options } = ani;\n                this.animate(keyframe, options);\n            });\n        } else {\n            const { keyframe, options } = animations;\n            this.animate(keyframe, options);\n        }\n        return this;\n    }\n    async animate(keyframe, options) {\n        this.ani = this.el.animate(keyframe, options);\n        await this.ani.finished;\n        this.onAnimationEnd && this.onAnimationEnd.call(this);\n    }\n\n    children(children) {\n        children.forEach(async (element) => {\n            if (element instanceof Element) {\n                this.el.append(element.el);\n                if (element.introAnimation) {\n                    const { keyframe, options } = element.introAnimation;\n                    element.el.animate(keyframe, options);\n                }\n            }\n        });\n        return this;\n    }\n\n    on(events) {\n        Object.entries(events).forEach(([key, value]) => {\n            if (key === 'animationEnd') {\n                this.onAnimationEnd = value;\n                return;\n            }\n            this.el.addEventListener(key, value.bind(this));\n        });\n        return this;\n    }\n\n    async destroy() {\n        if (this.outroAnimation) {\n            const { keyframe, options } = this.outroAnimation;\n            await this.el.animate(keyframe, options).finished;\n            return this.el.remove();\n        } else {\n            return this.el.remove();\n        }\n    }\n    replaceChildren(...children) {\n        this.el.innerHTML = '';\n        this.children(children);\n    }\n\n    addChildren(...children) {\n        this.children(children);\n    }\n}\n"],"names":["Dom","constructor","qs","selector","Element","document","querySelector","qsa","querySelectorAll","el","tagName","createElement","body","state","value","_value","result","newValue","console","log","delay","ms","Promise","resolve","setTimeout","injectCss","cssText","styleTag","textContent","head","append","span","p","h1","h2","h3","h4","h5","h6","div","img","section","article","header","footer","main","ul","button","input","form","li","a","this","set","config","text","Object","entries","forEach","key","id","html","innerHTML","placeholder","type","src","href","split","length","classList","add","className","trim","attr","setAttribute","style","dataset","animations","Array","isArray","ani","keyframe","options","animate","finished","onAnimationEnd","call","children","async","element","introAnimation","on","events","addEventListener","bind","destroy","outroAnimation","remove","replaceChildren","addChildren"],"mappings":"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"}