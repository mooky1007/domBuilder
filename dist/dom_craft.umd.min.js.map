{"version":3,"file":"dom_craft.umd.min.js","sources":["../domCraft.js"],"sourcesContent":["export class Dom {\n    constructor() {}\n    static qs(selector) {\n        return document.querySelector(selector);\n    }\n    static qsa(selector) {\n        return document.querySelectorAll(selector);\n    }\n    static el(tagName) {\n        return new Element(document.createElement(tagName));\n    }\n    static get body() {\n        return new Element(document.querySelector('body'));\n    }\n\n    static delay(ms) {\n        return new Promise((resolve) => {\n            setTimeout(() => resolve(), ms);\n        });\n    }\n\n    static injectCss(cssText) {\n        const styleTag = document.createElement('style');\n        styleTag.textContent = cssText;\n\n        document.head.append(styleTag);\n    }\n    static get span() {\n        return new Element('span');\n    }\n    static get p() {\n        return new Element('p');\n    }\n    static get h1() {\n        return new Element('h1');\n    }\n    static get h2() {\n        return new Element('h2');\n    }\n    static get h3() {\n        return new Element('h3');\n    }\n    static get h4() {\n        return new Element('h4');\n    }\n    static get h5() {\n        return new Element('h5');\n    }\n    static get h6() {\n        return new Element('h6');\n    }\n    static get div() {\n        return new Element('div');\n    }\n\n    static get img() {\n        return new Element('img');\n    }\n\n    static get section() {\n        return new Element('section');\n    }\n    static get article() {\n        return new Element('article');\n    }\n    static get header() {\n        return new Element('header');\n    }\n    static get footer() {\n        return new Element('footer');\n    }\n    static get main() {\n        return new Element('main');\n    }\n    static get ul() {\n        return new Element('ul');\n    }\n    static get button() {\n        return new Element('button');\n    }\n    static get input() {\n        return new Element('input');\n    }\n    static get form() {\n        return new Element('form');\n    }\n    static get li() {\n        return new Element('li');\n    }\n    static get a() {\n        return new Element('a');\n    }\n}\n\nexport class Element {\n    constructor(el) {\n        if (typeof el === 'string') {\n            this.el = document.createElement(el);\n        } else {\n            this.el = el;\n        }\n        this.init();\n    }\n    init() {\n        this.el.newEl = this;\n        this.el.set = this.set.bind(this);\n        this.el.attr = this.attr.bind(this);\n        this.el.animations = this.animations.bind(this);\n        this.el.destroy = this.destroy.bind(this);\n        this.el.addChildren = this.addChildren.bind(this);\n        this.el.replaceChildren = this.replaceChildren.bind(this);\n    }\n    set(config = {}) {\n        this.config = config;\n        if (typeof config === 'string') {\n            this.text(config);\n        } else {\n            if ('text' in config) this.text(config.text);\n            if ('html' in config) this.html(config.html);\n            if ('style' in config) this.style(config.style);\n            if ('attr' in config) this.attr(config.attr);\n            if ('dataset' in config) this.dataset(config.dataset);\n            if ('href' in config) this.href(config.href);\n            if ('src' in config) this.src(config.src);\n            if ('type' in config) this.type(config.src);\n            if ('id' in config) this.id(config.id);\n            if ('class' in config) this.class(config.class);\n            if ('ref' in config && typeof config.ref === 'function') config.ref(this);\n            if ('children' in config) this.children(config.children);\n            if ('on' in config) this.on(config.on);\n            if ('introAnimation' in config) this.introAnimation = config.introAnimation;\n            if ('outroAnimation' in config) this.outroAnimation = config.outroAnimation;\n        }\n\n        return this.el;\n    }\n\n    id(id) {\n        this.el.id = id;\n        return this.el;\n    }\n    text(value) {\n        this.el.textContent = value;\n        return this.el;\n    }\n\n    html(value) {\n        this.el.innerHTML = value;\n        return this.el;\n    }\n\n    src(value) {\n        this.el.src = value;\n        return this.el;\n    }\n\n    href(value) {\n        this.el.href = value;\n        return this.el;\n    }\n\n    class(value) {\n        if (value.split(',').length === 1) {\n            this.el.classList.add(value);\n        } else {\n            value.split(',').forEach((className) => {\n                this.el.classList.add(className.trim());\n            });\n        }\n        return this.el;\n    }\n\n    attr(attr) {\n        Object.entries(attr).forEach(([key, value]) => {\n            this.el.setAttribute(key, value);\n        });\n        return this.el;\n    }\n\n    style(style) {\n        Object.entries(style).forEach(([key, value]) => (this.el.style[key] = value));\n        return this.el;\n    }\n\n    dataset(dataset) {\n        Object.entries(dataset).forEach(([key, value]) => {\n            this.el.dataset[key] = value;\n        });\n        return this.el;\n    }\n\n    animations(animations) {\n        if (Array.isArray(animations)) {\n            animations.forEach((ani) => {\n                const { keyframe, options } = ani;\n                this.animate(keyframe, options);\n            });\n        } else {\n            const { keyframe, options } = animations;\n            this.animate(keyframe, options);\n        }\n        return this.el;\n    }\n    async animate(keyframe, options) {\n        this.ani = this.el.animate(keyframe, options);\n        await this.ani.finished;\n        this.onAnimationEnd && this.onAnimationEnd.call(this);\n    }\n\n    children(children) {\n        children.forEach(async (el) => {\n            if (el.newEl.introAnimation) {\n                const { keyframe, options } = el.newEl.introAnimation;\n                this.el.append(el);\n                await el.animate(keyframe, options).finished;\n            } else {\n                this.el.append(el);\n            }\n        });\n        return this.el;\n    }\n\n    on(events) {\n        Object.entries(events).forEach(([key, value]) => {\n            if (key === 'animationEnd') {\n                this.onAnimationEnd = value;\n                return;\n            }\n            this.el.addEventListener(key, value.bind(this));\n        });\n        return this.el;\n    }\n\n    async destroy() {\n        if (this.outroAnimation) {\n            const { keyframe, options } = this.outroAnimation;\n            await this.el.animate(keyframe, options).finished;\n            return this.el.remove();\n        } else {\n            return this.el.remove();\n        }\n    }\n    replaceChildren(...children) {\n        this.el.innerHTML = '';\n        this.children(children);\n    }\n\n    addChildren(...children) {\n        this.children(children);\n    }\n}\n"],"names":["Element","constructor","el","this","document","createElement","init","newEl","set","bind","attr","animations","destroy","addChildren","replaceChildren","config","text","html","style","dataset","href","src","type","id","class","ref","children","on","introAnimation","outroAnimation","value","textContent","innerHTML","split","length","classList","add","forEach","className","trim","Object","entries","key","setAttribute","Array","isArray","ani","keyframe","options","animate","finished","onAnimationEnd","call","async","append","events","addEventListener","remove","qs","selector","querySelector","qsa","querySelectorAll","tagName","body","delay","ms","Promise","resolve","setTimeout","cssText","styleTag","head","span","p","h2","h4","h5","div","img","section","article","footer","main","button","input","li","a"],"mappings":"gPA8FO,MAAMA,EACT,WAAAC,CAAYC,GAEJC,KAAKD,GADS,iBAAPA,EACGE,SAASC,cAAcH,GAEvBA,EAEdC,KAAKG,MACR,CACD,IAAAA,GACIH,KAAKD,GAAGK,MAAQJ,KAChBA,KAAKD,GAAGM,IAAML,KAAKK,IAAIC,KAAKN,MAC5BA,KAAKD,GAAGQ,KAAOP,KAAKO,KAAKD,KAAKN,MAC9BA,KAAKD,GAAGS,WAAaR,KAAKQ,WAAWF,KAAKN,MAC1CA,KAAKD,GAAGU,QAAUT,KAAKS,QAAQH,KAAKN,MACpCA,KAAKD,GAAGW,YAAcV,KAAKU,YAAYJ,KAAKN,MAC5CA,KAAKD,GAAGY,gBAAkBX,KAAKW,gBAAgBL,KAAKN,KACvD,CACD,GAAAK,CAAIO,EAAS,IAsBT,OArBAZ,KAAKY,OAASA,EACQ,iBAAXA,EACPZ,KAAKa,KAAKD,IAEN,SAAUA,GAAQZ,KAAKa,KAAKD,EAAOC,MACnC,SAAUD,GAAQZ,KAAKc,KAAKF,EAAOE,MACnC,UAAWF,GAAQZ,KAAKe,MAAMH,EAAOG,OACrC,SAAUH,GAAQZ,KAAKO,KAAKK,EAAOL,MACnC,YAAaK,GAAQZ,KAAKgB,QAAQJ,EAAOI,SACzC,SAAUJ,GAAQZ,KAAKiB,KAAKL,EAAOK,MACnC,QAASL,GAAQZ,KAAKkB,IAAIN,EAAOM,KACjC,SAAUN,GAAQZ,KAAKmB,KAAKP,EAAOM,KACnC,OAAQN,GAAQZ,KAAKoB,GAAGR,EAAOQ,IAC/B,UAAWR,GAAQZ,KAAKqB,MAAMT,EAAOS,OACrC,QAAST,GAAgC,mBAAfA,EAAOU,KAAoBV,EAAOU,IAAItB,MAChE,aAAcY,GAAQZ,KAAKuB,SAASX,EAAOW,UAC3C,OAAQX,GAAQZ,KAAKwB,GAAGZ,EAAOY,IAC/B,mBAAoBZ,IAAQZ,KAAKyB,eAAiBb,EAAOa,gBACzD,mBAAoBb,IAAQZ,KAAK0B,eAAiBd,EAAOc,iBAG1D1B,KAAKD,EACf,CAED,EAAAqB,CAAGA,GAEC,OADApB,KAAKD,GAAGqB,GAAKA,EACNpB,KAAKD,EACf,CACD,IAAAc,CAAKc,GAED,OADA3B,KAAKD,GAAG6B,YAAcD,EACf3B,KAAKD,EACf,CAED,IAAAe,CAAKa,GAED,OADA3B,KAAKD,GAAG8B,UAAYF,EACb3B,KAAKD,EACf,CAED,GAAAmB,CAAIS,GAEA,OADA3B,KAAKD,GAAGmB,IAAMS,EACP3B,KAAKD,EACf,CAED,IAAAkB,CAAKU,GAED,OADA3B,KAAKD,GAAGkB,KAAOU,EACR3B,KAAKD,EACf,CAED,MAAM4B,GAQF,OAPgC,IAA5BA,EAAMG,MAAM,KAAKC,OACjB/B,KAAKD,GAAGiC,UAAUC,IAAIN,GAEtBA,EAAMG,MAAM,KAAKI,SAASC,IACtBnC,KAAKD,GAAGiC,UAAUC,IAAIE,EAAUC,WAGjCpC,KAAKD,EACf,CAED,IAAAQ,CAAKA,GAID,OAHA8B,OAAOC,QAAQ/B,GAAM2B,SAAAA,EAAUK,EAAKZ,MAChC3B,KAAKD,GAAGyC,aAAaD,EAAKZ,EAAM,IAE7B3B,KAAKD,EACf,CAED,KAAAgB,CAAMA,GAEF,OADAsB,OAAOC,QAAQvB,GAAOmB,SAAQ,EAAEK,EAAKZ,KAAY3B,KAAKD,GAAGgB,MAAMwB,GAAOZ,IAC/D3B,KAAKD,EACf,CAED,OAAAiB,CAAQA,GAIJ,OAHAqB,OAAOC,QAAQtB,GAASkB,WAAUK,EAAKZ,MACnC3B,KAAKD,GAAGiB,QAAQuB,GAAOZ,KAEpB3B,KAAKD,EACf,CAED,UAAAS,CAAWA,GACP,GAAIiC,MAAMC,QAAQlC,GACdA,EAAW0B,SAASS,IAChB,MAAMC,SAAEA,EAAQC,QAAEA,GAAYF,EAC9B3C,KAAK8C,QAAQF,EAAUC,UAExB,CACH,MAAMD,SAAEA,EAAQC,QAAEA,GAAYrC,EAC9BR,KAAK8C,QAAQF,EAAUC,EAC1B,CACD,OAAO7C,KAAKD,EACf,CACD,cAAc6C,EAAUC,GACpB7C,KAAK2C,IAAM3C,KAAKD,GAAG+C,QAAQF,EAAUC,SAC/B7C,KAAK2C,IAAII,SACf/C,KAAKgD,gBAAkBhD,KAAKgD,eAAeC,KAAKjD,KACnD,CAED,QAAAuB,CAASA,GAUL,OATAA,EAASW,SAAAA,MAAQgB,IACb,GAAInD,EAAGK,MAAMqB,eAAgB,CACzB,MAAMmB,SAAEA,EAAQC,QAAEA,GAAY9C,EAAGK,MAAMqB,eACvCzB,KAAKD,GAAGoD,OAAOpD,SACTA,EAAG+C,QAAQF,EAAUC,GAASE,QACpD,MACgB/C,KAAKD,GAAGoD,OAAOpD,MAGhBC,KAAKD,EACf,CAED,EAAAyB,CAAG4B,GAQC,OAPAf,OAAOC,QAAQc,GAAQlB,SAAAA,EAAUK,EAAKZ,MACtB,iBAARY,EAIJvC,KAAKD,GAAGsD,iBAAiBd,EAAKZ,EAAMrB,KAAKN,OAHrCA,KAAKgD,eAAiBrB,CAKvB3B,IAAAA,KAAKD,EACf,CAED,aAAAU,GACI,GAAIT,KAAK0B,eAAgB,CACrB,MAAMkB,SAAEA,EAAQC,QAAEA,GAAY7C,KAAK0B,eAEnC,aADM1B,KAAKD,GAAG+C,QAAQF,EAAUC,GAASE,SAClC/C,KAAKD,GAAGuD,QAC3B,CACY,OAAOtD,KAAKD,GAAGuD,QAEtB,CACD,eAAA3C,IAAmBY,GACfvB,KAAKD,GAAG8B,UAAY,GACpB7B,KAAKuB,SAASA,EACjB,CAED,WAAAb,IAAea,GACXvB,KAAKuB,SAASA,EACjB,QAzPE,MACH,WAAAzB,GAAgB,CAChB,SAAAyD,CAAUC,GACN,OAAOvD,SAASwD,cAAcD,EACjC,CACD,UAAOE,CAAIF,GACP,OAAOvD,SAAS0D,iBAAiBH,EACpC,CACD,UAAUI,GACN,OAAO,IAAI/D,EAAQI,SAASC,cAAc0D,GAC7C,CACD,eAAWC,GACP,OAAO,IAAIhE,EAAQI,SAASwD,cAAc,QAC7C,CAED,YAAOK,CAAMC,GACT,OAAO,IAAIC,SAASC,IAChBC,gBAAiBD,KAAWF,EAEnC,GAAA,CAED,iBAAiBI,GACb,MAAMC,EAAWnE,SAASC,cAAc,SACxCkE,EAASxC,YAAcuC,EAEvBlE,SAASoE,KAAKlB,OAAOiB,EACxB,CACD,eAAWE,GACP,OAAO,IAAIzE,EAAQ,OACtB,CACD,YAAA0E,GACI,OAAO,IAAI1E,EAAQ,IACtB,CACD,gBACI,OAAO,IAAIA,EAAQ,KACtB,CACD,aAAA2E,GACI,OAAO,IAAI3E,EAAQ,KACtB,CACD,gBACI,OAAO,IAAIA,EAAQ,KACtB,CACD,aAAW4E,GACP,OAAO,IAAI5E,EAAQ,KACtB,CACD,aAAA6E,GACI,OAAO,IAAI7E,EAAQ,KACtB,CACD,gBACI,OAAO,IAAIA,EAAQ,KACtB,CACD,cAAW8E,GACP,OAAO,IAAI9E,EAAQ,MACtB,CAED,cAAA+E,GACI,OAAO,IAAI/E,EAAQ,MACtB,CAED,kBAAWgF,GACP,OAAO,IAAIhF,EAAQ,UACtB,CACD,kBAAAiF,GACI,OAAO,IAAIjF,EAAQ,UACtB,CACD,oBACI,OAAO,IAAIA,EAAQ,SACtB,CACD,iBAAWkF,GACP,OAAO,IAAIlF,EAAQ,SACtB,CACD,eAAAmF,GACI,OAAO,IAAInF,EAAQ,OACtB,CACD,gBACI,OAAO,IAAIA,EAAQ,KACtB,CACD,iBAAWoF,GACP,OAAO,IAAIpF,EAAQ,SACtB,CACD,gBAAAqF,GACI,OAAO,IAAIrF,EAAQ,QACtB,CACD,kBACI,OAAO,IAAIA,EAAQ,OACtB,CACD,aAAWsF,GACP,OAAO,IAAItF,EAAQ,KACtB,CACD,YAAAuF,GACI,OAAO,IAAIvF,EAAQ,IACtB"}