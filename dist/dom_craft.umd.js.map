{"version":3,"file":"dom_craft.umd.js","sources":["../domCraft.js"],"sourcesContent":["export class Dom {\n    constructor() {}\n    static qs(selector) {\n        return new Element(document.querySelector(selector));\n    }\n    static qsa(selector) {\n        return document.querySelectorAll(selector);\n    }\n    static el(tagName) {\n        return new Element(document.createElement(tagName));\n    }\n    static get body() {\n        return new Element(document.querySelector('body'));\n    }\n\n    static delay(ms) {\n        return new Promise((resolve) => {\n            setTimeout(() => resolve(), ms);\n        });\n    }\n\n    static injectCss(cssText) {\n        const styleTag = document.createElement('style');\n        styleTag.textContent = cssText;\n\n        document.head.append(styleTag);\n    }\n    static get span() {\n        return new Element('span');\n    }\n    static get p() {\n        return new Element('p');\n    }\n    static get h1() {\n        return new Element('h1');\n    }\n    static get h2() {\n        return new Element('h2');\n    }\n    static get h3() {\n        return new Element('h3');\n    }\n    static get h4() {\n        return new Element('h4');\n    }\n    static get h5() {\n        return new Element('h5');\n    }\n    static get h6() {\n        return new Element('h6');\n    }\n    static get div() {\n        return new Element('div');\n    }\n\n    static get img() {\n        return new Element('img');\n    }\n\n    static get section() {\n        return new Element('section');\n    }\n    static get article() {\n        return new Element('article');\n    }\n    static get header() {\n        return new Element('header');\n    }\n    static get footer() {\n        return new Element('footer');\n    }\n    static get main() {\n        return new Element('main');\n    }\n    static get ul() {\n        return new Element('ul');\n    }\n    static get button() {\n        return new Element('button');\n    }\n    static get input() {\n        return new Element('input');\n    }\n    static get form() {\n        return new Element('form');\n    }\n    static get li() {\n        return new Element('li');\n    }\n    static get a() {\n        return new Element('a');\n    }\n}\n\nexport class Element {\n    constructor(el) {\n        if (typeof el === 'string') {\n            this.el = document.createElement(el);\n        } else {\n            this.el = el;\n        }\n        this.init();\n    }\n    init() {\n        this.el.newEl = this;\n        this.el.set = this.set.bind(this);\n        this.el.attr = this.attr.bind(this);\n        this.el.animations = this.animations.bind(this);\n        this.el.destroy = this.destroy.bind(this);\n        this.el.addChildren = this.addChildren.bind(this);\n        this.el.replaceChildren = this.replaceChildren.bind(this);\n    }\n    set(config = {}) {\n        this.config = config;\n        if (typeof config === 'string') {\n            this.text(config);\n        } else {\n            Object.entries(config).forEach(([key, value]) => {\n                switch (key) {\n                    case 'text':\n                        this.text(value);\n                        break;\n                    case 'html':\n                        this.html(value);\n                        break;\n                    case 'style':\n                        this.style(value);\n                        break;\n                    case 'attr':\n                        this.attr(value);\n                        break;\n                    case 'dataset':\n                        this.dataset(value);\n                        break;\n                    case 'href':\n                        this.href(value);\n                        break;\n                    case 'src':\n                        this.src(value);\n                        break;\n                    case 'type':\n                        this.type(value);\n                        break;\n                    case 'placeholder':\n                        this.placeholder(value);\n                        break;\n                    case 'id':\n                        this.id(value);\n                        break;\n                    case 'class':\n                        this.class(value);\n                        break;\n                    case 'ref':\n                        value(this);\n                        break;\n                    case 'children':\n                        this.children(value);\n                        break;\n                    case 'on':\n                        this.on(value);\n                        break;\n                    case 'introAnimation':\n                        this.introAnimation = value;\n                        break;\n                    case 'outroAnimation':\n                        this.outroAnimation = value;\n                        break;\n                    default:\n                        this[key] = value;\n                        break;\n                }\n            });\n        }\n\n        return this.el;\n    }\n\n    id(id) {\n        this.el.id = id;\n        return this.el;\n    }\n    text(value) {\n        this.el.textContent = value;\n        return this.el;\n    }\n\n    html(value) {\n        this.el.innerHTML = value;\n        return this.el;\n    }\n\n    placeholder(placeholder) {\n        this.el.placeholder = placeholder;\n        return this.el;\n    }\n\n    type(type) {\n        this.el.type = type;\n        return this.el;\n    }\n\n    src(value) {\n        this.el.src = value;\n        return this.el;\n    }\n\n    href(value) {\n        this.el.href = value;\n        return this.el;\n    }\n\n    class(value) {\n        if (value.split(',').length === 1) {\n            this.el.classList.add(value);\n        } else {\n            value.split(',').forEach((className) => {\n                this.el.classList.add(className.trim());\n            });\n        }\n        return this.el;\n    }\n\n    attr(attr) {\n        Object.entries(attr).forEach(([key, value]) => {\n            this.el.setAttribute(key, value);\n        });\n        return this.el;\n    }\n\n    style(style) {\n        Object.entries(style).forEach(([key, value]) => (this.el.style[key] = value));\n        return this.el;\n    }\n\n    dataset(dataset) {\n        Object.entries(dataset).forEach(([key, value]) => {\n            this.el.dataset[key] = value;\n        });\n        return this.el;\n    }\n\n    animations(animations) {\n        if (Array.isArray(animations)) {\n            animations.forEach((ani) => {\n                const { keyframe, options } = ani;\n                this.animate(keyframe, options);\n            });\n        } else {\n            const { keyframe, options } = animations;\n            this.animate(keyframe, options);\n        }\n        return this.el;\n    }\n    async animate(keyframe, options) {\n        this.ani = this.el.animate(keyframe, options);\n        await this.ani.finished;\n        this.onAnimationEnd && this.onAnimationEnd.call(this);\n    }\n\n    children(children) {\n        children.forEach(async (el) => {\n            if (el instanceof Element) {\n                if (el.introAnimation) {\n                    const { keyframe, options } = el.introAnimation;\n                    this.el.append(el.el);\n                    await el.el.animate(keyframe, options).finished;\n                } else {\n                    this.el.append(el.el);\n                }\n            } else {\n                if (el.newEl.introAnimation) {\n                    const { keyframe, options } = el.newEl.introAnimation;\n                    this.el.append(el);\n                    await el.animate(keyframe, options).finished;\n                } else {\n                    this.el.append(el);\n                }\n            }\n        });\n        return this.el;\n    }\n\n    on(events) {\n        Object.entries(events).forEach(([key, value]) => {\n            if (key === 'animationEnd') {\n                this.onAnimationEnd = value;\n                return;\n            }\n            this.el.addEventListener(key, value.bind(this));\n        });\n        return this.el;\n    }\n\n    async destroy() {\n        if (this.outroAnimation) {\n            const { keyframe, options } = this.outroAnimation;\n            await this.el.animate(keyframe, options).finished;\n            return this.el.remove();\n        } else {\n            return this.el.remove();\n        }\n    }\n    replaceChildren(...children) {\n        this.el.innerHTML = '';\n        this.children(children);\n    }\n\n    addChildren(...children) {\n        this.children(children);\n    }\n}\n"],"names":["Element","constructor","el","this","document","createElement","init","newEl","set","bind","attr","animations","destroy","addChildren","replaceChildren","config","text","Object","entries","forEach","key","value","html","style","dataset","href","src","type","placeholder","id","class","children","on","introAnimation","outroAnimation","textContent","innerHTML","split","length","classList","add","className","trim","setAttribute","Array","isArray","ani","keyframe","options","animate","finished","onAnimationEnd","call","async","append","events","addEventListener","remove","qs","selector","querySelector","qsa","querySelectorAll","tagName","body","delay","ms","Promise","resolve","setTimeout","injectCss","cssText","styleTag","head","span","p","h1","h2","h3","h4","h5","h6","div","img","section","article","header","footer","main","ul","button","input","form","li","a"],"mappings":"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"}