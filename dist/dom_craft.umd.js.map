{"version":3,"file":"dom_craft.umd.js","sources":["../domCraft.js"],"sourcesContent":["export class Dom {\n    constructor() {}\n    static qs(selector) {\n        return document.querySelector(selector);\n    }\n    static qsa(selector) {\n        return document.querySelectorAll(selector);\n    }\n    static el(tagName) {\n        return new Element(document.createElement(tagName));\n    }\n    static get body() {\n        return new Element(document.querySelector('body'));\n    }\n\n    static delay(ms) {\n        return new Promise((resolve) => {\n            setTimeout(() => resolve(), ms);\n        });\n    }\n\n    static injectCss(cssText) {\n        const styleTag = document.createElement('style');\n        styleTag.textContent = cssText;\n\n        document.head.append(styleTag);\n    }\n    static get span() {\n        return new Element('span');\n    }\n    static get p() {\n        return new Element('p');\n    }\n    static get h1() {\n        return new Element('h1');\n    }\n    static get h2() {\n        return new Element('h2');\n    }\n    static get h3() {\n        return new Element('h3');\n    }\n    static get h4() {\n        return new Element('h4');\n    }\n    static get h5() {\n        return new Element('h5');\n    }\n    static get h6() {\n        return new Element('h6');\n    }\n    static get div() {\n        return new Element('div');\n    }\n    static get section() {\n        return new Element('section');\n    }\n    static get article() {\n        return new Element('article');\n    }\n    static get header() {\n        return new Element('header');\n    }\n    static get footer() {\n        return new Element('footer');\n    }\n    static get main() {\n        return new Element('main');\n    }\n    static get ul() {\n        return new Element('ul');\n    }\n    static get li() {\n        return new Element('li');\n    }\n    static get a() {\n        return new Element('a');\n    }\n}\n\nexport class Element {\n    constructor(el) {\n        if (typeof el === 'string') {\n            this.el = document.createElement(el);\n        } else {\n            this.el = el;\n        }\n        this.init();\n    }\n    init() {\n        this.el.newEl = this;\n        this.el.set = this.set.bind(this);\n        this.el.attr = this.attr.bind(this);\n        this.el.animations = this.animations.bind(this);\n        this.el.destroy = this.destroy.bind(this);\n        this.el.addChildren = this.addChildren.bind(this);\n        this.el.replaceChildren = this.replaceChildren.bind(this);\n    }\n    set(config = {}) {\n        this.config = config;\n        if (typeof config === 'string') {\n            this.text(config);\n        } else {\n            if ('text' in config) this.text(config.text);\n            if ('html' in config) this.html(config.html);\n            if ('style' in config) this.style(config.style);\n            if ('attr' in config) this.attr(config.attr);\n            if ('dataset' in config) this.dataset(config.dataset);\n            if ('href' in config) this.href(config.href);\n            if ('id' in config) this.id(config.id);\n            if ('class' in config) this.class(config.class);\n            if ('ref' in config && typeof config.ref === 'function') config.ref(this);\n            if ('children' in config) this.children(config.children);\n            if ('on' in config) this.on(config.on);\n            if ('introAnimation' in config) this.introAnimation = config.introAnimation;\n            if ('outroAnimation' in config) this.outroAnimation = config.outroAnimation;\n        }\n\n        return this.el;\n    }\n\n    id(id) {\n        this.el.id = id;\n        return this.el;\n    }\n    text(value) {\n        this.el.textContent = value;\n        return this.el;\n    }\n\n    html(value) {\n        this.el.innerHTML = value;\n        return this.el;\n    }\n\n    href(value) {\n        this.el.href = value;\n        return this.el;\n    }\n\n    class(value) {\n        if (value.split(',').length === 1) {\n            this.el.classList.add(value);\n        } else {\n            value.split(',').forEach((className) => {\n                this.el.classList.add(className.trim());\n            });\n        }\n        return this.el;\n    }\n\n    attr(attr) {\n        Object.entries(attr).forEach(([key, value]) => {\n            this.el.setAttribute(key, value);\n        });\n        return this.el;\n    }\n\n    style(style) {\n        Object.entries(style).forEach(([key, value]) => (this.el.style[key] = value));\n        return this.el;\n    }\n\n    dataset(dataset) {\n        Object.entries(dataset).forEach(([key, value]) => {\n            this.el.dataset[key] = value;\n        });\n        return this.el;\n    }\n\n    animations(animations) {\n        if (Array.isArray(animations)) {\n            animations.forEach((ani) => {\n                const { keyframe, options } = ani;\n                this.animate(keyframe, options);\n            });\n        } else {\n            const { keyframe, options } = animations;\n            this.animate(keyframe, options);\n        }\n        return this.el;\n    }\n    async animate(keyframe, options) {\n        this.ani = this.el.animate(keyframe, options);\n        await this.ani.finished;\n        this.onAnimationEnd && this.onAnimationEnd.call(this);\n    }\n\n    children(children) {\n        children.forEach(async (el) => {\n            if (el.newEl.introAnimation) {\n                const { keyframe, options } = el.newEl.introAnimation;\n                this.el.append(el);\n                await el.animate(keyframe, options).finished;\n            } else {\n                this.el.append(el);\n            }\n        });\n        return this.el;\n    }\n\n    on(events) {\n        Object.entries(events).forEach(([key, value]) => {\n            if (key === 'animationEnd') {\n                this.onAnimationEnd = value;\n                return;\n            }\n            this.el.addEventListener(key, value.bind(this));\n        });\n        return this.el;\n    }\n\n    async destroy() {\n        if (this.outroAnimation) {\n            const { keyframe, options } = this.outroAnimation;\n            await this.el.animate(keyframe, options).finished;\n            return this.el.remove();\n        } else {\n            return this.el.remove();\n        }\n    }\n    replaceChildren(...children) {\n        this.el.innerHTML = '';\n        this.children(children);\n    }\n\n    addChildren(...children) {\n        this.children(children);\n    }\n}\n"],"names":["Element","constructor","el","this","document","createElement","init","newEl","set","bind","attr","animations","destroy","addChildren","replaceChildren","config","text","html","style","dataset","href","id","class","ref","children","on","introAnimation","outroAnimation","value","textContent","innerHTML","split","length","classList","add","forEach","className","trim","Object","entries","key","setAttribute","Array","isArray","ani","keyframe","options","animate","finished","onAnimationEnd","call","async","append","events","addEventListener","remove","qs","selector","querySelector","qsa","querySelectorAll","tagName","body","delay","ms","Promise","resolve","setTimeout","injectCss","cssText","styleTag","head","span","p","h1","h2","h3","h4","h5","h6","div","section","article","header","footer","main","ul","li","a"],"mappings":"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"}